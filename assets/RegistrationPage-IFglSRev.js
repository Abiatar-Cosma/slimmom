import{r as l,u as w,j as s,c as x,a as g,g as _,d as j,e as N,b as v}from"./index-4Up08Tad.js";import{F as b,c as f,a as I,b as n,E as i,e as S,d as y,f as c}from"./index.esm-DnuBVsyB.js";import{B as M}from"./Button-DpnDaxCU.js";import"./hoist-non-react-statics.cjs-BnJ8Nh95.js";const B="_container_mcvce_1",F="_title_mcvce_13",C="_block_mcvce_79",m={container:B,title:F,block:C},E="_loginForm_6d6z1_17",z="_formInput_6d6z1_71",P="_passInput_6d6z1_113",R="_btnCont_6d6z1_121",k="_pswdVisBtn_6d6z1_139",q="_pswdBtnImg_6d6z1_159",V="_errorMessage_6d6z1_167",e={loginForm:E,formInput:z,passInput:P,btnCont:R,pswdVisBtn:k,pswdBtnImg:q,errorMessage:V},$=f().shape({name:c().min(2,"Name length must be at least 2 characters long").required("Name is required"),email:c().email("Invalid email").required("Email is required"),password:c().min(6,"Password must contain 6 or more characters!").required("Password is required")}),L=()=>{const[t,o]=l.useState(!1),[a,d]=l.useState(""),h=w();return s.jsx(b,{initialValues:{name:"",email:"",password:""},validationSchema:$,onSubmit:async(r,p)=>{const u=await h(x(r));u.type==="users/signup/rejected"?d(u.payload):(d(""),p.resetForm())},children:({errors:r,touched:p})=>s.jsxs(I,{className:e.loginForm,noValidate:!0,children:[s.jsx(n,{className:e.formInput,type:"text",name:"name",placeholder:"Name *",autoComplete:"name",id:"name"}),s.jsx(i,{name:"name",component:"div",className:e.errorMessage}),!r.name&&a&&s.jsx("div",{className:e.errorMessage,children:a}),s.jsx(n,{className:e.formInput,type:"email",name:"email",placeholder:"Email *",autoComplete:"email",id:"email"}),s.jsx(i,{name:"email",component:"div",className:e.errorMessage}),!r.email&&a&&s.jsx("div",{className:e.errorMessage,children:a}),s.jsxs("div",{className:e.passwordWrapper,children:[s.jsx(n,{className:`${e.formInput} ${e.passInput}`,type:t?"text":"password",name:"password",placeholder:"Password *",autoComplete:"new-password",id:"password"}),s.jsx("button",{className:e.pswdVisBtn,type:"button",onClick:()=>o(!t),"aria-label":t?"Hide password":"Show password",children:s.jsx("img",{className:e.pswdBtnImg,src:t?S:y,alt:"Toggle password visibility"})})]}),s.jsx(i,{name:"password",component:"div",className:e.errorMessage}),!r.password&&a&&s.jsx("div",{className:e.errorMessage,children:a}),s.jsx("div",{className:e.btnCont,children:s.jsx(M,{isPrimaryButton:!1,text:"Register",width:182,type:"submit"})})]})})},W=()=>{const t=g(_),o=g(j),a=N();return l.useEffect(()=>{o&&a("/login")},[o,a]),s.jsx("main",{children:s.jsx("div",{className:m.container,children:t?s.jsx("div",{className:m.block,children:s.jsx(v,{})}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:m.title,children:"Register"}),s.jsx(L,{})]})})})};export{W as default};
