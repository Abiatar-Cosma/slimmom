import{u as g,j as s,v as f,a as b,r as N,w as D,b as w,e as v,i as P}from"./index-4Up08Tad.js";import{D as x,B as C}from"./DiaryAddProductForm-zCQG-VMJ.js";import{C as j}from"./Container-De0N3g2E.js";import{D as h,S as u}from"./SideBar-C-_tjd0J.js";import{P as l}from"./Button-DpnDaxCU.js";import"./hoist-non-react-statics.cjs-BnJ8Nh95.js";import"./floating-ui.dom-Rh20WLZ1.js";const F="_item_jjxga_1",R="_info_jjxga_21",q="_small_jjxga_87",E="_btn_jjxga_97",k="_icon_jjxga_125",n={item:F,info:R,small:q,btn:E,icon:k},y=({id:e,product:a,grams:r,calories:t})=>{const c=g(),d=m=>{c(f(m))};return s.jsxs("li",{className:n.item,id:e,children:[s.jsx("p",{className:n.info,children:a}),s.jsxs("p",{className:n.info,children:[r," g"]}),s.jsxs("p",{className:n.info,children:[t," ",s.jsx("span",{className:n.small,children:"kcal"})]}),s.jsx("button",{className:n.btn,type:"button",onClick:()=>{d(e)},children:s.jsx("svg",{className:n.icon,width:"12",height:"12",children:s.jsx("use",{href:"/sprite.svg#close-modal-cross"})})})]})};y.propTypes={id:l.string.isRequired,product:l.string.isRequired,grams:l.number.isRequired,calories:l.number.isRequired};const B="_list_1uljn_1",L="_error_1uljn_67",p={list:B,error:L},_=()=>{const{dailyMeals:e,date:a,isLoading:r,error:t}=b(i=>i.products),c=g();N.useEffect(()=>{a&&c(D({date:a}))},[c,a]);const d=(e==null?void 0:e.length)>0&&!t&&!r,m=(e==null?void 0:e.length)===0&&!t&&!r;return s.jsxs(s.Fragment,{children:[r&&s.jsx(w,{}),t&&s.jsxs("p",{children:["Error. ",t.message]}),d&&s.jsx("ul",{className:p.list,children:e.map(i=>s.jsx(y,{id:i._id,product:i.product,grams:i.grams,calories:i.calories},i._id))}),m&&s.jsx("p",{className:p.error,children:"You haven't added any meal this day."})]})},S="_main_we8wx_1",I="_diary_we8wx_41",M="_sidebar_we8wx_53",o={main:S,diary:I,sidebar:M},G=()=>{const e=v(),{width:a}=P(),r=()=>{e("/diary-mobile-form")};return s.jsxs(s.Fragment,{children:[a<1280&&s.jsxs("main",{className:o.main,children:[s.jsx("h1",{className:"visually-hidden",children:"Diary Page"}),s.jsx("div",{className:o.diary,children:s.jsxs(j,{children:[s.jsx(h,{location:"diary"}),a>767&&s.jsx(x,{}),s.jsx(_,{}),a<768&&s.jsx(C,{type:"button",onClick:r})]})}),s.jsx("div",{className:o.sidebar,children:s.jsx(j,{children:s.jsx(u,{})})})]}),a>1279&&s.jsx(s.Fragment,{children:s.jsx(j,{children:s.jsxs("main",{className:o.main,children:[s.jsxs("div",{className:o.diary,children:[s.jsx(h,{location:"diary"}),s.jsx(x,{}),s.jsx(_,{})]}),s.jsx(u,{})]})})})]})};export{G as default};
