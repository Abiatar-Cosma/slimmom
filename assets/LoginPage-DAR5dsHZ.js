import{r as m,u as w,j as s,L as u,h as x,a as f,g as b,b as j}from"./index-4Up08Tad.js";import{F as v,c as I,a as N,b as p,e as F,d as S,f as g}from"./index.esm-DnuBVsyB.js";import"./hoist-non-react-statics.cjs-BnJ8Nh95.js";const y="_container_8a1fk_1",P="_title_8a1fk_11",k="_block_8a1fk_43",c={container:y,title:P,block:k},L="_loginForm_2sfvc_17",M="_btn_2sfvc_29",B="_formInput_2sfvc_93",q="_passInput_2sfvc_135",C="_btnCont_2sfvc_143",V="_pswdVisBtn_2sfvc_159",E="_pswdBtnImg_2sfvc_179",$="_errorMessage_2sfvc_187",e={loginForm:L,btn:M,formInput:B,passInput:q,btnCont:C,pswdVisBtn:V,pswdBtnImg:E,errorMessage:$},D=I().shape({email:g().email("Invalid email").required("Email is required"),password:g().min(6,"Password must contain 6 or more characters!").required("Password is required")}),H=()=>{const[t,r]=m.useState(!1),[i,d]=m.useState(""),_=w(),h=()=>{r(a=>!a)};return s.jsx(v,{initialValues:{email:"",password:""},validationSchema:D,onSubmit:(a,n)=>{_(x(a)).then(o=>{var l;(l=o==null?void 0:o.type)!=null&&l.includes("rejected")?d((o==null?void 0:o.payload)||"Login failed"):d("")}),n.resetForm()},children:({errors:a,touched:n})=>s.jsxs(N,{className:e.loginForm,children:[s.jsx(p,{className:e.formInput,type:"email",name:"email",title:"Please enter valid email address, for example 'example@gmail.com'",placeholder:"Email *",required:!0,id:"email"}),a.email&&n.email&&s.jsxs("div",{className:e.errorMessage,children:["* ",a.email]}),i&&!n.email&&!n.password&&i!=="Password is wrong"&&s.jsx("div",{className:e.errorMessage,children:i}),s.jsx(p,{className:`${e.formInput} ${e.passInput}`,type:t?"text":"password",name:"password",title:"Please enter your password. Minimum length 6 symbols",placeholder:"Password *",required:!0,id:"password"}),s.jsx("button",{className:e.pswdVisBtn,onClick:h,type:"button","aria-label":t?"Hide password":"Show password",children:s.jsx("img",{className:e.pswdBtnImg,src:t?F:S,alt:"Button show/hide password"})}),a.password&&n.password&&s.jsxs("div",{className:e.errorMessage,children:["* ",a.password]}),i==="Password is wrong"&&s.jsx("div",{className:e.errorMessage,children:i}),s.jsxs("div",{className:e.btnCont,children:[s.jsx("button",{type:"submit",className:e.btn,children:"Login"}),s.jsx(u,{to:"/forgot-password",className:e.btn,children:"Forgot password"})]})]})})},A=()=>{const t=f(b);w();const r=s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:c.title,children:"Sign In"}),s.jsx(H,{})]});return s.jsx("main",{children:s.jsx("div",{className:c.container,children:t?s.jsx("div",{className:c.block,children:s.jsx(j,{})}):r})})};export{A as default};
